# wg-orbit Scripts Documentation

–¶—è –ø–∞–ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –∑–±—ñ—Ä–∫–∏ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è wg-orbit –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞—Ö.

## üìã –û–≥–ª—è–¥ —Å–∫—Ä–∏–ø—Ç—ñ–≤

### üèóÔ∏è build-native.sh
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ó–±—ñ—Ä–∫–∞ –Ω–∞—Ç–∏–≤–Ω–∏—Ö –±—ñ–Ω–∞—Ä–Ω–∏–∫—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Docker.

### üöÄ deploy-native.sh
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–∏—Ö –±—ñ–Ω–∞—Ä–Ω–∏–∫—ñ–≤ –Ω–∞ —Ü—ñ–ª—å–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ.

### üê≥ build-multiarch.sh
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ó–±—ñ—Ä–∫–∞ multi-arch Docker –æ–±—Ä–∞–∑—ñ–≤.

### üß™ test-multiarch.sh
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–±—ñ—Ä–æ–∫ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞—Ö.

---

## üèóÔ∏è build-native.sh

### –û–ø–∏—Å
–°–∫—Ä–∏–ø—Ç –∑–±–∏—Ä–∞—î –Ω–∞—Ç–∏–≤–Ω—ñ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è –≤—Å—ñ—Ö –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Go cross-compilation.

### –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
- `linux-amd64` - Linux x86_64
- `linux-arm64` - Linux ARM64 (Raspberry Pi 4, Apple Silicon)
- `linux-armv7` - Linux ARMv7 (Raspberry Pi 3)
- `linux-armv6` - Linux ARMv6 (Raspberry Pi Zero)
- `darwin-amd64` - macOS Intel
- `darwin-arm64` - macOS Apple Silicon
- `windows-amd64` - Windows x86_64

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
```bash
# –ó–±—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä
./scripts/build-native.sh

# –ê–±–æ —á–µ—Ä–µ–∑ Makefile
make build-native
```

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- `VERSION` - –≤–µ—Ä—Å—ñ—è –¥–ª—è –∑–±—ñ—Ä–∫–∏ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: git tag –∞–±–æ 'dev')

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–ë—ñ–Ω–∞—Ä–Ω–∏–∫–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø–∞–ø—Ü—ñ `bin/`:
```
bin/
‚îú‚îÄ‚îÄ wg-orbit-server-linux-amd64
‚îú‚îÄ‚îÄ wg-orbit-client-linux-amd64
‚îú‚îÄ‚îÄ wg-orbit-server-linux-arm64
‚îú‚îÄ‚îÄ wg-orbit-client-linux-arm64
‚îú‚îÄ‚îÄ wg-orbit-server-linux-armv7
‚îú‚îÄ‚îÄ wg-orbit-client-linux-armv7
‚îî‚îÄ‚îÄ checksums.txt
```

---

## üöÄ deploy-native.sh

### –û–ø–∏—Å
–°–∫—Ä–∏–ø—Ç —Ä–æ–∑–≥–æ—Ä—Ç–∞—î –≥–æ—Ç–æ–≤—ñ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏ –Ω–∞ —Ü—ñ–ª—å–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏.

### –ê—Ä–≥—É–º–µ–Ω—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞

#### –û—Å–Ω–æ–≤–Ω—ñ –æ–ø—Ü—ñ—ó:
- `--install` - –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏ –≤ —Å–∏—Å—Ç–µ–º—É (–ø–æ—Ç—Ä–µ–±—É—î sudo)
- `--service` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ systemd —Å–µ—Ä–≤—ñ—Å (—Ç—ñ–ª—å–∫–∏ Linux)
- `--config` - —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- `--arch ARCH` - –ø—Ä–∏–º—É—Å–æ–≤–æ –≤–∫–∞–∑–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É
- `--help` - –ø–æ–∫–∞–∑–∞—Ç–∏ –¥–æ–≤—ñ–¥–∫—É

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

#### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –±—ñ–Ω–∞—Ä–Ω–∏–∫—ñ–≤
```bash
# –ü–æ–∫–∞–∑—É—î –¥–æ—Å—Ç—É–ø–Ω—ñ –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
./scripts/deploy-native.sh
```

#### 2. –ü–æ–≤–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è + –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è + systemd —Å–µ—Ä–≤—ñ—Å
./scripts/deploy-native.sh --install --config --service
```

#### 3. –¢—ñ–ª—å–∫–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –±—ñ–Ω–∞—Ä–Ω–∏–∫—ñ–≤
```bash
./scripts/deploy-native.sh --install
```

#### 4. –¢—ñ–ª—å–∫–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```bash
./scripts/deploy-native.sh --config
```

#### 5. –ü—Ä–∏–º—É—Å–æ–≤–µ –≤–∫–∞–∑–∞–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
```bash
./scripts/deploy-native.sh --arch linux-armv7 --install
```

### –ê–≤—Ç–æ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ `uname -m`:
- `x86_64` ‚Üí `linux-amd64`
- `aarch64` ‚Üí `linux-arm64`
- `armv7l` ‚Üí `linux-armv7`
- `armv6l` ‚Üí `linux-armv6`

### –®–ª—è—Ö–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
- **–ë—ñ–Ω–∞—Ä–Ω–∏–∫–∏:** `/usr/local/bin/`
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:** `/etc/wg-orbit/`
- **Systemd —Å–µ—Ä–≤—ñ—Å:** `/etc/systemd/system/wg-orbit.service`

---

## üìã –¢–∏–ø–æ–≤–∏–π workflow

### –ù–∞ dev-–º–∞—à–∏–Ω—ñ (–∑–±—ñ—Ä–∫–∞)
```bash
# 1. –ó–±—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä
./scripts/build-native.sh

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
ls -la bin/

# 3. –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –Ω–∞ —Ü—ñ–ª—å–æ–≤—É —Å–∏—Å—Ç–µ–º—É (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
scp bin/wg-orbit-*-linux-arm64 user@target-host:~/wg-orbit/bin/
```

### –ù–∞ —Ü—ñ–ª—å–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ (—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)
```bash
# 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é –∞–±–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
git clone https://github.com/your-org/wg-orbit.git
cd wg-orbit

# 2. –ó–±—ñ—Ä–∫–∞ (—è–∫—â–æ –±—ñ–Ω–∞—Ä–Ω–∏–∫—ñ–≤ –Ω–µ–º–∞—î)
./scripts/build-native.sh

# 3. –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
./scripts/deploy-native.sh --install --config --service

# 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É
sudo systemctl enable wg-orbit
sudo systemctl start wg-orbit
```

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
```bash
sudo nano /etc/wg-orbit/server.yaml
```

### 2. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–µ—Ä–≤–µ—Ä–∞
```bash
wg-orbit-server init --interface wg0
```

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –ß–µ—Ä–µ–∑ systemd
sudo systemctl start wg-orbit

# –ê–±–æ –≤—Ä—É—á–Ω—É
wg-orbit-server run
```

---

## üö® –ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏

### "No binaries found for platform"
**–ü—Ä–∏—á–∏–Ω–∞:** –ë—ñ–Ω–∞—Ä–Ω–∏–∫–∏ –Ω–µ –∑—ñ–±—Ä–∞–Ω—ñ –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –°–ø–æ—á–∞—Ç–∫—É –∑–±–µ—Ä—ñ—Ç—å –±—ñ–Ω–∞—Ä–Ω–∏–∫–∏
./scripts/build-native.sh

# –ü–æ—Ç—ñ–º —Ä–æ–∑–≥–æ—Ä–Ω—ñ—Ç—å
./scripts/deploy-native.sh --install
```

### "Permission denied"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–∞–≤ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –≤ —Å–∏—Å—Ç–µ–º–Ω—ñ –ø–∞–ø–∫–∏.

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ sudo –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
sudo ./scripts/deploy-native.sh --install
```

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
**–ü—Ä–∏—á–∏–Ω–∞:** –ê–≤—Ç–æ–≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ø—Ä–∞—Ü—é—î –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ.

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –í–∫–∞–∂—ñ—Ç—å –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –≤—Ä—É—á–Ω—É
./scripts/deploy-native.sh --arch linux-armv7 --install
```

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [ARM Deployment Guide](../docs/ARM_DEPLOYMENT.md)
- [Quick Start for ARM](../docs/QUICKSTART_ARM.md)
- [Main README](../README.md)